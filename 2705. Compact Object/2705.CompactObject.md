# 2705. Compact Object

**_ğŸª´ Difficulty: `Medium`_**

**_â¤ï¸ Leetcode Problem Description: [Compact Object - Problem - Description](https://leetcode.com/problems/compact-object/description/)_**

**_â¤ï¸ Leetcode Solution by Rayana Sales: [Compact Object - Solution - Rayana Sales](https://leetcode.com/problems/compact-object/solutions/5613552/simple-beginner-friendly-compact-object/)_**

**_ğŸ’ğŸ»â€â™€ï¸ All my solved LeetCode problems on GitHub: [rayanasales/leetcode](https://github.com/rayanasales/leetcode)_**

**_â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥ If it's help, please up ğŸ” vote! â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥_**

---

## Solution in javascript

```js
var compactObject = function (obj) {
  if (obj === null) return null;
  if (Array.isArray(obj)) return obj.filter(Boolean).map(compactObject); // If the object is an array, filter out falsy values, then recursively compact the array elements
  if (typeof obj !== "object") return obj; // If the object is a primitive value (not an object or array), return it as is

  const compacted = {};
  for (const key in obj) {
    let value = compactObject(obj[key]); // Recursively compact the value associated with the key
    if (Boolean(value)) compacted[key] = value; // If the compacted value is truthy, add it to the compacted object
  }
  return compacted;
};
```

## Explanation

1. **HandlingÂ `null`:**
   - The first line of the function checks if the inputÂ `obj`Â isÂ `null`. SinceÂ `null`Â is a falsy value, the function returnsÂ `null`Â immediately. This acts as a base case for the recursion and ensures thatÂ `null`Â values are not included in the final result.
2. **Handling Arrays:**
   - The function checks ifÂ `obj`Â is an array usingÂ `Array.isArray(obj)`. If it is, the function does two things:
     - **Filter Falsy Values:**Â It filters out any falsy values using theÂ `filter(Boolean)`Â method, which keeps only truthy values.
     - **Recursion:**Â It then usesÂ `map(compactObject)`Â to apply theÂ `compactObject`Â function to each remaining element of the array. This ensures that nested arrays within the original array are also compacted.
3. **Handling Primitive Values:**
   - IfÂ `obj`Â is not an object or array (i.e., it is a primitive value like a number, string, or boolean), the function simply returns the value as is. This allows the function to work with non-object, non-array values, ensuring they are passed through untouched if they are truthy.
4. **Handling Objects:**
   - For cases whereÂ `obj`Â is a plain object (neitherÂ `null`, an array, nor a primitive), the function initializes an empty object calledÂ `compacted`.
   - It then iterates over each key-value pair in the object using aÂ `for...in`Â loop.
   - **Recursive Compaction:**Â For each key, the function callsÂ `compactObject`Â recursively on the value associated with that key. This ensures that any nested objects or arrays within the object are also compacted.
   - **Adding Truthy Values:**Â If the compacted value is truthy, it is added to theÂ `compacted`Â object under the same key. This step effectively removes any key-value pairs where the value is falsy.
5. **Returning the Compacted Object:**
   - After all keys have been processed, the function returns theÂ `compacted`Â object. This object contains only the keys with truthy values, and all nested objects and arrays within it have also been compacted.

### **Strategy Used:**

- **Recursive Approach:**Â The function is designed to handle nested structures (arrays and objects) by calling itself recursively on each element or property. This ensures that the compaction process is applied at all levels of the input structure.
- **Type Checking:**Â By checking the type of the input (`null`, array, object, or primitive), the function can handle each type appropriately, ensuring that all possible inputs are processed correctly.
- **Filtering and Mapping:**Â The use ofÂ `filter(Boolean)`Â andÂ `map(compactObject)`Â allows the function to efficiently remove falsy values from arrays while also recursively compacting any nested elements.

---

# **_HOPE YOU ENJOYED MY EXPLANATION. UPVOTE if this was helpful ğŸ”ğŸ”ğŸ”â¤ï¸â¤ï¸â¤ï¸_**

## **_Check out all my solved LeetCode problems on GitHub: [rayanasales/leetcode](https://github.com/rayanasales/leetcode) ğŸ¤™ğŸ˜šğŸ¤˜_**
