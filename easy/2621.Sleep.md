# 2621. Sleep

[üçÑ 2621. Sleep](https://leetcode.com/problems/sleep/description/)

<aside>
‚è∞ Solved in 01:30
</aside>

## Problem Statement

Given a positive integer `millis`, write an asynchronous function that sleeps for `millis` milliseconds and then resolves. The function should return a promise that resolves after the specified duration.

## Solution

Here is the efficient JavaScript solution that meets the problem's requirements:

```javascript
function sleep(millis) {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(millis);
    }, millis);
  });
}

// Usage example
let t = Date.now();
sleep(100).then(() => {
  console.log(Date.now() - t); // Outputs approximately 100ms
});
```

## Explanation

- **Promise Constructor**: We create a new promise that will resolve after a specified amount of time. The promise constructor takes a single argument: a callback function with `resolve` and `reject` parameters. Here, we only use `resolve` as we are not handling any errors.
- **setTimeout Function**: This function is used to delay the execution of its callback function by the number of milliseconds specified in `millis`. After the delay, it calls the `resolve` function, passing the `millis` value to indicate successful completion.
- **Resolve Function**: The resolve function inside the `setTimeout` callback ensures that the promise is fulfilled with the value `millis` once the timer completes. This design mimics a sleep function by using asynchronous JavaScript features to pause execution in a non-blocking manner.

## Performance

This implementation is efficient and will not cause a time limit exceeded error because it uses native JavaScript timing functions to manage delays, ensuring the function sleeps for exactly the time required without unnecessary computations or recursion.

## Conclusion

This approach provides a clean and straightforward way to implement a sleep function in JavaScript using promises and `setTimeout`, adhering to modern asynchronous programming patterns.
